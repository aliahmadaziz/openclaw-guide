
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Complete guide to installing and configuring OpenClaw AI assistant">
      
      
        <meta name="author" content="Ali Ahmad Aziz">
      
      
        <link rel="canonical" href="https://aliahmadaziz.github.io/openclaw-guide/part3-infrastructure/">
      
      
        <link rel="prev" href="../part2-ai-assistant/">
      
      
        <link rel="next" href="../part4-automation/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.2">
    
    
      
        <title>Part 3 - Infrastructure - OpenClaw Installation Guide</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="deep-purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#openclaw-installation-guide-part-3-infrastructure-1-hr" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="OpenClaw Installation Guide" class="md-header__button md-logo" aria-label="OpenClaw Installation Guide" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OpenClaw Installation Guide
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Part 3 - Infrastructure
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="deep-purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="deep-purple"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/aliahmadaziz/openclaw-guide" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../part1-base-install/" class="md-tabs__link">
          
  
  
  Installation Guide

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="OpenClaw Installation Guide" class="md-nav__button md-logo" aria-label="OpenClaw Installation Guide" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    OpenClaw Installation Guide
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/aliahmadaziz/openclaw-guide" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Installation Guide
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Installation Guide
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../part1-base-install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part 1 - Base Install
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../part2-ai-assistant/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part 2 - AI Assistant
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Part 3 - Infrastructure
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Part 3 - Infrastructure
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-google-oauth-tokens" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Google OAuth Tokens
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Google OAuth Tokens">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-create-google-cloud-project" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.1 Create Google Cloud Project
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-enable-required-apis" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.2 Enable Required APIs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-create-oauth-20-credentials" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.3 Create OAuth 2.0 Credentials
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-install-credentials-file" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.4 Install Credentials File
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-run-oauth-authorization-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.5 Run OAuth Authorization Flow
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16-test-api-access" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.6 Test API Access
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17-multiple-google-accounts-optional" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.7 Multiple Google Accounts (Optional)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-cloudflare-tunnel" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Cloudflare Tunnel
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Cloudflare Tunnel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-install-cloudflared" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1 Install Cloudflared
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-authenticate-with-cloudflare" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2 Authenticate with Cloudflare
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-create-tunnel" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3 Create Tunnel
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-configure-tunnel-routing" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.4 Configure Tunnel Routing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25-add-dns-record" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.5 Add DNS Record
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#26-test-tunnel-before-making-it-a-service" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.6 Test Tunnel (Before Making it a Service)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#27-create-systemd-service" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.7 Create Systemd Service
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-webhook-server" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Webhook Server
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Webhook Server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-create-webhook-server-script" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1 Create Webhook Server Script
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-generate-webhook-secrets" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2 Generate Webhook Secrets
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-install-python-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3 Install Python Dependencies
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-test-webhook-server-manually" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.4 Test Webhook Server Manually
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35-create-systemd-service" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.5 Create Systemd Service
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#36-test-public-webhook-url" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.6 Test Public Webhook URL
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-backup-system" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Backup System
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Backup System">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-install-rclone" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.1 Install Rclone
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-configure-google-drive-remote" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2 Configure Google Drive Remote
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-configure-encrypted-remote-optional-but-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3 Configure Encrypted Remote (Optional but Recommended)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44-create-hourly-backup-script" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4 Create Hourly Backup Script
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#45-create-nightly-backup-script" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.5 Create Nightly Backup Script
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#46-initialize-git-repository-if-not-already" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.6 Initialize Git Repository (If Not Already)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#47-test-backups-manually" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.7 Test Backups Manually
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#48-schedule-backups-in-crontab" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.8 Schedule Backups in Crontab
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#49-monitor-backup-logs" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.9 Monitor Backup Logs
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#part-3-complete" class="md-nav__link">
    <span class="md-ellipsis">
      
        Part 3 Complete ✅
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-reference-commands" class="md-nav__link">
    <span class="md-ellipsis">
      
        Quick Reference Commands
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Troubleshooting
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Security Notes
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webhook-urls-reference" class="md-nav__link">
    <span class="md-ellipsis">
      
        Webhook URLs Reference
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../part4-automation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part 4 - Automation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../part5-hardening/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part 5 - Hardening
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../part6-verification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Part 6 - Verification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-google-oauth-tokens" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Google OAuth Tokens
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Google OAuth Tokens">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-create-google-cloud-project" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.1 Create Google Cloud Project
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-enable-required-apis" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.2 Enable Required APIs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-create-oauth-20-credentials" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.3 Create OAuth 2.0 Credentials
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-install-credentials-file" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.4 Install Credentials File
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-run-oauth-authorization-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.5 Run OAuth Authorization Flow
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16-test-api-access" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.6 Test API Access
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17-multiple-google-accounts-optional" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.7 Multiple Google Accounts (Optional)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-cloudflare-tunnel" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Cloudflare Tunnel
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Cloudflare Tunnel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-install-cloudflared" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1 Install Cloudflared
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-authenticate-with-cloudflare" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2 Authenticate with Cloudflare
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-create-tunnel" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3 Create Tunnel
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-configure-tunnel-routing" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.4 Configure Tunnel Routing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25-add-dns-record" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.5 Add DNS Record
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#26-test-tunnel-before-making-it-a-service" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.6 Test Tunnel (Before Making it a Service)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#27-create-systemd-service" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.7 Create Systemd Service
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-webhook-server" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Webhook Server
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Webhook Server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-create-webhook-server-script" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1 Create Webhook Server Script
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-generate-webhook-secrets" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2 Generate Webhook Secrets
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-install-python-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3 Install Python Dependencies
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-test-webhook-server-manually" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.4 Test Webhook Server Manually
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35-create-systemd-service" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.5 Create Systemd Service
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#36-test-public-webhook-url" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.6 Test Public Webhook URL
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-backup-system" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Backup System
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Backup System">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-install-rclone" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.1 Install Rclone
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-configure-google-drive-remote" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2 Configure Google Drive Remote
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-configure-encrypted-remote-optional-but-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3 Configure Encrypted Remote (Optional but Recommended)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44-create-hourly-backup-script" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4 Create Hourly Backup Script
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#45-create-nightly-backup-script" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.5 Create Nightly Backup Script
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#46-initialize-git-repository-if-not-already" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.6 Initialize Git Repository (If Not Already)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#47-test-backups-manually" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.7 Test Backups Manually
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#48-schedule-backups-in-crontab" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.8 Schedule Backups in Crontab
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#49-monitor-backup-logs" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.9 Monitor Backup Logs
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#part-3-complete" class="md-nav__link">
    <span class="md-ellipsis">
      
        Part 3 Complete ✅
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-reference-commands" class="md-nav__link">
    <span class="md-ellipsis">
      
        Quick Reference Commands
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Troubleshooting
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Security Notes
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webhook-urls-reference" class="md-nav__link">
    <span class="md-ellipsis">
      
        Webhook URLs Reference
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="openclaw-installation-guide-part-3-infrastructure-1-hr">OpenClaw Installation Guide - Part 3: Infrastructure (1 hr)<a class="headerlink" href="#openclaw-installation-guide-part-3-infrastructure-1-hr" title="Permanent link">&para;</a></h1>
<p><strong>Goal:</strong> Set up the supporting infrastructure for a production-ready AI assistant. Google APIs for calendar/email/docs, public webhook endpoint for push notifications, and automated backups.</p>
<p><strong>Prerequisites:</strong> 
- Part 1 &amp; 2 complete (OpenClaw running, AI persona configured)
- Domain name with DNS access (for Cloudflare tunnel)
- Google account for API access and backup storage</p>
<hr />
<h2 id="1-google-oauth-tokens">1. Google OAuth Tokens<a class="headerlink" href="#1-google-oauth-tokens" title="Permanent link">&para;</a></h2>
<p>Google APIs let your AI read calendar events, send emails, access Drive files, and update spreadsheets. You'll create OAuth credentials and authorize access.</p>
<h3 id="11-create-google-cloud-project">1.1 Create Google Cloud Project<a class="headerlink" href="#11-create-google-cloud-project" title="Permanent link">&para;</a></h3>
<ol>
<li>Go to <a href="https://console.cloud.google.com/">Google Cloud Console</a></li>
<li>Click <strong>"Select a project"</strong> dropdown → <strong>"New Project"</strong></li>
<li><strong>Project name:</strong> <code>openclaw-bot</code> (or your choice)</li>
<li><strong>Organization:</strong> (leave as "No organization")</li>
<li>Click <strong>"Create"</strong></li>
</ol>
<p><em>Why: Google Cloud project is required to enable APIs and create credentials</em></p>
<p>✅ <strong>Verify:</strong> Project appears in project selector dropdown</p>
<h3 id="12-enable-required-apis">1.2 Enable Required APIs<a class="headerlink" href="#12-enable-required-apis" title="Permanent link">&para;</a></h3>
<ol>
<li>In the Cloud Console, select your new project</li>
<li>Go to <strong>"APIs &amp; Services"</strong> → <strong>"Library"</strong></li>
<li>Search and enable each of these APIs (click API name → click <strong>"Enable"</strong>):</li>
<li><strong>Google Calendar API</strong></li>
<li><strong>Gmail API</strong></li>
<li><strong>Google Drive API</strong></li>
<li><strong>Google Sheets API</strong></li>
</ol>
<p><em>Why: Each API must be explicitly enabled before you can use it</em></p>
<p>✅ <strong>Verify:</strong> Go to "APIs &amp; Services" → "Enabled APIs" — all four should be listed</p>
<h3 id="13-create-oauth-20-credentials">1.3 Create OAuth 2.0 Credentials<a class="headerlink" href="#13-create-oauth-20-credentials" title="Permanent link">&para;</a></h3>
<ol>
<li>Go to <strong>"APIs &amp; Services"</strong> → <strong>"Credentials"</strong></li>
<li>Click <strong>"Configure Consent Screen"</strong></li>
<li><strong>User Type:</strong> External</li>
<li>Click <strong>"Create"</strong></li>
<li><strong>OAuth consent screen</strong> form:</li>
<li><strong>App name:</strong> <code>OpenClaw Bot</code></li>
<li><strong>User support email:</strong> your email</li>
<li><strong>Developer contact:</strong> your email</li>
<li>Click <strong>"Save and Continue"</strong></li>
<li><strong>Scopes:</strong> Click <strong>"Add or Remove Scopes"</strong></li>
<li>Search and select:<ul>
<li><code>.../auth/calendar</code> (full calendar access)</li>
<li><code>.../auth/gmail.send</code> (send email)</li>
<li><code>.../auth/drive.readonly</code> (read Drive files)</li>
<li><code>.../auth/spreadsheets</code> (read/write sheets)</li>
</ul>
</li>
<li>Click <strong>"Update"</strong> → <strong>"Save and Continue"</strong></li>
<li><strong>Test users:</strong> Add your Google email address</li>
<li>Click <strong>"Add Users"</strong> → enter your email → <strong>"Add"</strong></li>
<li>Click <strong>"Save and Continue"</strong></li>
<li>Review summary → Click <strong>"Back to Dashboard"</strong></li>
</ol>
<p><em>Why: OAuth consent screen is required before creating credentials. "External" + test users allows personal use without Google verification.</em></p>
<p>Now create the actual credentials:</p>
<ol>
<li>Go to <strong>"Credentials"</strong> tab → Click <strong>"Create Credentials"</strong> → <strong>"OAuth client ID"</strong></li>
<li><strong>Application type:</strong> Desktop app</li>
<li><strong>Name:</strong> <code>openclaw-desktop</code></li>
<li>Click <strong>"Create"</strong></li>
<li>A dialog appears with Client ID and Client Secret</li>
<li>Click <strong>"Download JSON"</strong></li>
</ol>
<p><em>Why: Desktop app type allows server-side OAuth flow. Credentials are downloaded as JSON file.</em></p>
<p>✅ <strong>Verify:</strong> You have a file named <code>client_secret_XXXX.json</code> downloaded</p>
<h3 id="14-install-credentials-file">1.4 Install Credentials File<a class="headerlink" href="#14-install-credentials-file" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>mkdir<span class="w"> </span>-p<span class="w"> </span>~/.clawdbot/google
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>mv<span class="w"> </span>~/Downloads/client_secret_*.json<span class="w"> </span>~/.clawdbot/google/credentials.json
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>chmod<span class="w"> </span><span class="m">600</span><span class="w"> </span>~/.clawdbot/google/credentials.json
</span></code></pre></div>
<p><em>Why: OpenClaw expects credentials at this exact path. chmod 600 makes file readable only by you.</em></p>
<p>✅ <strong>Verify:</strong> <code>ls -l ~/.clawdbot/google/credentials.json</code> shows file exists with <code>-rw-------</code> permissions</p>
<h3 id="15-run-oauth-authorization-flow">1.5 Run OAuth Authorization Flow<a class="headerlink" href="#15-run-oauth-authorization-flow" title="Permanent link">&para;</a></h3>
<p>Create a simple Python script to generate the token:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>cat<span class="w"> </span>&gt;<span class="w"> </span>~/clawd/scripts/google-auth.py<span class="w"> </span><span class="s">&lt;&lt; &#39;EOF&#39;</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="s">#!/usr/bin/env python3</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="s">import os</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="s">from google_auth_oauthlib.flow import InstalledAppFlow</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="s">from google.auth.transport.requests import Request</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="s">from google.oauth2.credentials import Credentials</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="s">SCOPES = [</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="s">    &#39;https://www.googleapis.com/auth/calendar&#39;,</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="s">    &#39;https://www.googleapis.com/auth/gmail.send&#39;,</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="s">    &#39;https://www.googleapis.com/auth/drive.readonly&#39;,</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="s">    &#39;https://www.googleapis.com/auth/spreadsheets&#39;</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="s">]</span>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="s">CREDS_PATH = os.path.expanduser(&#39;~/.clawdbot/google/credentials.json&#39;)</span>
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a><span class="s">TOKEN_PATH = os.path.expanduser(&#39;~/.clawdbot/google/token.json&#39;)</span>
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a><span class="s">def main():</span>
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a><span class="s">    creds = None</span>
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a><span class="s">    if os.path.exists(TOKEN_PATH):</span>
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a><span class="s">        creds = Credentials.from_authorized_user_file(TOKEN_PATH, SCOPES)</span>
</span><span id="__span-1-22"><a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a>
</span><span id="__span-1-23"><a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a><span class="s">    if not creds or not creds.valid:</span>
</span><span id="__span-1-24"><a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a><span class="s">        if creds and creds.expired and creds.refresh_token:</span>
</span><span id="__span-1-25"><a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a><span class="s">            creds.refresh(Request())</span>
</span><span id="__span-1-26"><a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a><span class="s">        else:</span>
</span><span id="__span-1-27"><a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a><span class="s">            flow = InstalledAppFlow.from_client_secrets_file(CREDS_PATH, SCOPES)</span>
</span><span id="__span-1-28"><a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a><span class="s">            creds = flow.run_local_server(port=8080)</span>
</span><span id="__span-1-29"><a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a>
</span><span id="__span-1-30"><a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a><span class="s">        with open(TOKEN_PATH, &#39;w&#39;) as token:</span>
</span><span id="__span-1-31"><a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a><span class="s">            token.write(creds.to_json())</span>
</span><span id="__span-1-32"><a id="__codelineno-1-32" name="__codelineno-1-32" href="#__codelineno-1-32"></a><span class="s">        print(f&quot;✅ Token saved to {TOKEN_PATH}&quot;)</span>
</span><span id="__span-1-33"><a id="__codelineno-1-33" name="__codelineno-1-33" href="#__codelineno-1-33"></a><span class="s">    else:</span>
</span><span id="__span-1-34"><a id="__codelineno-1-34" name="__codelineno-1-34" href="#__codelineno-1-34"></a><span class="s">        print(f&quot;✅ Valid token already exists at {TOKEN_PATH}&quot;)</span>
</span><span id="__span-1-35"><a id="__codelineno-1-35" name="__codelineno-1-35" href="#__codelineno-1-35"></a>
</span><span id="__span-1-36"><a id="__codelineno-1-36" name="__codelineno-1-36" href="#__codelineno-1-36"></a><span class="s">if __name__ == &#39;__main__&#39;:</span>
</span><span id="__span-1-37"><a id="__codelineno-1-37" name="__codelineno-1-37" href="#__codelineno-1-37"></a><span class="s">    main()</span>
</span><span id="__span-1-38"><a id="__codelineno-1-38" name="__codelineno-1-38" href="#__codelineno-1-38"></a><span class="s">EOF</span>
</span><span id="__span-1-39"><a id="__codelineno-1-39" name="__codelineno-1-39" href="#__codelineno-1-39"></a>
</span><span id="__span-1-40"><a id="__codelineno-1-40" name="__codelineno-1-40" href="#__codelineno-1-40"></a>chmod<span class="w"> </span>+x<span class="w"> </span>~/clawd/scripts/google-auth.py
</span></code></pre></div>
<p><em>Why: This script handles the OAuth flow and saves the refresh token for long-term access</em></p>
<p>Install required Python libraries:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>python3-pip
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>pip3<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>google-auth-oauthlib<span class="w"> </span>google-auth-httplib2<span class="w"> </span>google-api-python-client
</span></code></pre></div>
<p>Run the authorization:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="nb">cd</span><span class="w"> </span>~/clawd/scripts
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>python3<span class="w"> </span>google-auth.py
</span></code></pre></div>
<p><em>Why: Script launches browser for Google login, saves token after authorization</em></p>
<p><strong>Follow the prompts:</strong></p>
<p><em>If on a headless VPS (no browser), the script will print a URL. Copy it, open in your local browser, authorize, then paste the redirect URL back into the terminal.</em></p>
<ol>
<li>Browser opens (or URL is printed) for Google sign-in</li>
<li>Choose your Google account</li>
<li>Click <strong>"Continue"</strong> on the unverified app warning (since it's your own app)</li>
<li>Review permissions → Click <strong>"Continue"</strong></li>
<li>Browser shows "The authentication flow has completed"</li>
</ol>
<p><strong>Headless VPS tip:</strong> If <code>run_local_server</code> fails, change it to <code>run_console()</code> in the script — this gives you a URL to paste instead of launching a browser.</p>
<p>✅ <strong>Verify:</strong> Script prints "✅ Token saved to ~/.clawdbot/google/token.json"</p>
<h3 id="16-test-api-access">1.6 Test API Access<a class="headerlink" href="#16-test-api-access" title="Permanent link">&para;</a></h3>
<p>Quick test to confirm calendar access works:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>cat<span class="w"> </span>&gt;<span class="w"> </span>~/clawd/scripts/test-calendar.py<span class="w"> </span><span class="s">&lt;&lt; &#39;EOF&#39;</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="s">#!/usr/bin/env python3</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="s">from google.oauth2.credentials import Credentials</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="s">from googleapiclient.discovery import build</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="s">import datetime</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="s">import os</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="s">TOKEN_PATH = os.path.expanduser(&#39;~/.clawdbot/google/token.json&#39;)</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="s">creds = Credentials.from_authorized_user_file(TOKEN_PATH)</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="s">service = build(&#39;calendar&#39;, &#39;v3&#39;, credentials=creds)</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="s">now = datetime.datetime.utcnow().isoformat() + &#39;Z&#39;</span>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="s">events_result = service.events().list(</span>
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a><span class="s">    calendarId=&#39;primary&#39;, </span>
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="s">    timeMin=now,</span>
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a><span class="s">    maxResults=3, </span>
</span><span id="__span-4-18"><a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="s">    singleEvents=True,</span>
</span><span id="__span-4-19"><a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a><span class="s">    orderBy=&#39;startTime&#39;</span>
</span><span id="__span-4-20"><a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a><span class="s">).execute()</span>
</span><span id="__span-4-21"><a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a><span class="s">events = events_result.get(&#39;items&#39;, [])</span>
</span><span id="__span-4-22"><a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a>
</span><span id="__span-4-23"><a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a><span class="s">if not events:</span>
</span><span id="__span-4-24"><a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a><span class="s">    print(&#39;No upcoming events found.&#39;)</span>
</span><span id="__span-4-25"><a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a><span class="s">else:</span>
</span><span id="__span-4-26"><a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a><span class="s">    print(&#39;Next 3 events:&#39;)</span>
</span><span id="__span-4-27"><a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a><span class="s">    for event in events:</span>
</span><span id="__span-4-28"><a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a><span class="s">        start = event[&#39;start&#39;].get(&#39;dateTime&#39;, event[&#39;start&#39;].get(&#39;date&#39;))</span>
</span><span id="__span-4-29"><a id="__codelineno-4-29" name="__codelineno-4-29" href="#__codelineno-4-29"></a><span class="s">        print(f&quot;  - {start}: {event[&#39;summary&#39;]}&quot;)</span>
</span><span id="__span-4-30"><a id="__codelineno-4-30" name="__codelineno-4-30" href="#__codelineno-4-30"></a><span class="s">EOF</span>
</span><span id="__span-4-31"><a id="__codelineno-4-31" name="__codelineno-4-31" href="#__codelineno-4-31"></a>
</span><span id="__span-4-32"><a id="__codelineno-4-32" name="__codelineno-4-32" href="#__codelineno-4-32"></a>chmod<span class="w"> </span>+x<span class="w"> </span>~/clawd/scripts/test-calendar.py
</span><span id="__span-4-33"><a id="__codelineno-4-33" name="__codelineno-4-33" href="#__codelineno-4-33"></a>python3<span class="w"> </span>~/clawd/scripts/test-calendar.py
</span></code></pre></div>
<p><em>Why: Verifies token works by fetching your upcoming calendar events</em></p>
<p>✅ <strong>Verify:</strong> Script prints your upcoming events (or "No upcoming events found")</p>
<h3 id="17-multiple-google-accounts-optional">1.7 Multiple Google Accounts (Optional)<a class="headerlink" href="#17-multiple-google-accounts-optional" title="Permanent link">&para;</a></h3>
<p>If you use multiple Google accounts (personal, work, etc.), generate separate tokens:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1"># Example: generate token-gmail.json for personal account</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>python3<span class="w"> </span>google-auth.py<span class="w">  </span><span class="c1"># Rename output to token-gmail.json</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="c1"># Then run again for work account → rename to token-work.json</span>
</span></code></pre></div>
<p><em>Why: Each Google account needs its own OAuth token. You reference different tokens in your scripts.</em></p>
<p><strong>Common token naming:</strong>
- <code>token.json</code> — Primary/work account
- <code>token-gmail.json</code> — Personal Gmail
- <code>token-work.json</code> — Work calendar
- <code>tokens/shopdev.json</code> — Per-domain tokens</p>
<hr />
<h2 id="2-cloudflare-tunnel">2. Cloudflare Tunnel<a class="headerlink" href="#2-cloudflare-tunnel" title="Permanent link">&para;</a></h2>
<p>Cloudflare Tunnel exposes your local webhook server (port 8088) via a public HTTPS URL without opening firewall ports. This is required for Google Calendar push notifications and other webhooks.</p>
<h3 id="21-install-cloudflared">2.1 Install Cloudflared<a class="headerlink" href="#21-install-cloudflared" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>wget<span class="w"> </span>https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64.deb
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>dpkg<span class="w"> </span>-i<span class="w"> </span>cloudflared-linux-amd64.deb
</span></code></pre></div>
<p><em>Why: Cloudflared creates secure tunnels from your server to Cloudflare's network</em></p>
<p>✅ <strong>Verify:</strong> <code>cloudflared --version</code> shows version number</p>
<h3 id="22-authenticate-with-cloudflare">2.2 Authenticate with Cloudflare<a class="headerlink" href="#22-authenticate-with-cloudflare" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>cloudflared<span class="w"> </span>tunnel<span class="w"> </span>login
</span></code></pre></div>
<p><em>Why: Links cloudflared to your Cloudflare account</em></p>
<p><strong>Follow the prompts:</strong>
1. Browser opens to Cloudflare authorization page
2. Log in to your Cloudflare account
3. Select the domain you want to use (e.g., <code>yourdomain.com</code>)
4. Click <strong>"Authorize"</strong></p>
<p>✅ <strong>Verify:</strong> Terminal shows "You have successfully logged in" and creates <code>~/.cloudflared/cert.pem</code></p>
<h3 id="23-create-tunnel">2.3 Create Tunnel<a class="headerlink" href="#23-create-tunnel" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>cloudflared<span class="w"> </span>tunnel<span class="w"> </span>create<span class="w"> </span>openclaw
</span></code></pre></div>
<p><em>Why: Creates a named tunnel (persistent connection between your server and Cloudflare)</em></p>
<p>✅ <strong>Verify:</strong> Command prints tunnel UUID and creates <code>~/.cloudflared/TUNNEL-UUID.json</code></p>
<p><strong>Save the tunnel UUID</strong> shown in the output (you'll need it for config).</p>
<h3 id="24-configure-tunnel-routing">2.4 Configure Tunnel Routing<a class="headerlink" href="#24-configure-tunnel-routing" title="Permanent link">&para;</a></h3>
<p>Create tunnel configuration file:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>cat<span class="w"> </span>&gt;<span class="w"> </span>~/.cloudflared/config.yml<span class="w"> </span><span class="s">&lt;&lt; &#39;EOF&#39;</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="s">tunnel: TUNNEL_UUID_HERE</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="s">credentials-file: /root/.cloudflared/TUNNEL_UUID_HERE.json</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="s">ingress:</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="s">  - hostname: webhook.YOUR_DOMAIN.com</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="s">    service: http://localhost:8088</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="s">  - service: http_status:404</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="s">EOF</span>
</span></code></pre></div>
<p><em>Why: Routes traffic from webhook.yourdomain.com to local port 8088</em></p>
<p><strong>Edit the file to replace:</strong>
- <code>TUNNEL_UUID_HERE</code> with the actual UUID from previous step
- <code>YOUR_DOMAIN.com</code> with your actual domain</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>nano<span class="w"> </span>~/.cloudflared/config.yml
</span></code></pre></div>
<h3 id="25-add-dns-record">2.5 Add DNS Record<a class="headerlink" href="#25-add-dns-record" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>cloudflared<span class="w"> </span>tunnel<span class="w"> </span>route<span class="w"> </span>dns<span class="w"> </span>openclaw<span class="w"> </span>webhook.YOUR_DOMAIN.com
</span></code></pre></div>
<p><em>Replace <code>YOUR_DOMAIN.com</code> with your actual domain</em></p>
<p><em>Why: Creates CNAME record pointing webhook.yourdomain.com to the tunnel</em></p>
<p>✅ <strong>Verify:</strong> Check Cloudflare DNS dashboard — you should see a CNAME record for <code>webhook</code> pointing to <code>TUNNEL-UUID.cfargotunnel.com</code></p>
<h3 id="26-test-tunnel-before-making-it-a-service">2.6 Test Tunnel (Before Making it a Service)<a class="headerlink" href="#26-test-tunnel-before-making-it-a-service" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>cloudflared<span class="w"> </span>tunnel<span class="w"> </span>run<span class="w"> </span>openclaw
</span></code></pre></div>
<p><em>Why: Runs tunnel in foreground to test configuration</em></p>
<p><strong>Leave this running</strong> and open a NEW terminal window:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>curl<span class="w"> </span>https://webhook.YOUR_DOMAIN.com
</span></code></pre></div>
<p><em>Expected: Connection succeeds (even if returns error, that's fine — means tunnel routing works)</em></p>
<p>Press <code>Ctrl+C</code> in the tunnel terminal to stop.</p>
<p>✅ <strong>Verify:</strong> <code>curl</code> doesn't show DNS errors or connection refused</p>
<h3 id="27-create-systemd-service">2.7 Create Systemd Service<a class="headerlink" href="#27-create-systemd-service" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>cat<span class="w"> </span>&gt;<span class="w"> </span>/etc/systemd/system/cloudflared.service<span class="w"> </span><span class="s">&lt;&lt; &#39;EOF&#39;</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="s">[Unit]</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="s">Description=Cloudflare Tunnel</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="s">After=network.target</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="s">[Service]</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="s">Type=simple</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="s">User=root</span>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="s">ExecStart=/usr/local/bin/cloudflared tunnel run openclaw</span>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="s">Restart=on-failure</span>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="s">RestartSec=5s</span>
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a>
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="s">[Install]</span>
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a><span class="s">WantedBy=multi-user.target</span>
</span><span id="__span-14-15"><a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a><span class="s">EOF</span>
</span></code></pre></div>
<p><em>Why: Runs tunnel automatically on boot, restarts on failure</em></p>
<p>Enable and start the service:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>systemctl<span class="w"> </span>daemon-reload
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>cloudflared
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>systemctl<span class="w"> </span>start<span class="w"> </span>cloudflared
</span></code></pre></div>
<p><em>Why: Starts tunnel now and on every boot</em></p>
<p>✅ <strong>Verify:</strong> <code>systemctl status cloudflared</code> shows "active (running)"</p>
<hr />
<h2 id="3-webhook-server">3. Webhook Server<a class="headerlink" href="#3-webhook-server" title="Permanent link">&para;</a></h2>
<p>The webhook server listens on localhost:8088 and receives push notifications from external services (Google Calendar, email alerts, etc.). You'll create endpoints with random URL paths as security tokens.</p>
<h3 id="31-create-webhook-server-script">3.1 Create Webhook Server Script<a class="headerlink" href="#31-create-webhook-server-script" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>cat<span class="w"> </span>&gt;<span class="w"> </span>~/clawd/scripts/webhook-server.py<span class="w"> </span><span class="s">&lt;&lt; &#39;EOF&#39;</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="s">#!/usr/bin/env python3</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="s">&quot;&quot;&quot;</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="s">Minimal webhook server for OpenClaw</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="s">Receives push notifications and forwards to OpenClaw</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="s">&quot;&quot;&quot;</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="s">from aiohttp import web</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="s">import json</span>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span class="s">import os</span>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="s">import logging</span>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a><span class="s">from datetime import datetime</span>
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a>
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a><span class="s"># Load secrets from environment</span>
</span><span id="__span-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a><span class="s">CALENDAR_SECRET = os.getenv(&#39;WEBHOOK_CALENDAR_SECRET&#39;, &#39;CHANGE_ME&#39;)</span>
</span><span id="__span-16-15"><a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a><span class="s">EMAIL_SECRET = os.getenv(&#39;WEBHOOK_EMAIL_SECRET&#39;, &#39;CHANGE_ME&#39;)</span>
</span><span id="__span-16-16"><a id="__codelineno-16-16" name="__codelineno-16-16" href="#__codelineno-16-16"></a><span class="s">ALERT_SECRET = os.getenv(&#39;WEBHOOK_ALERT_SECRET&#39;, &#39;CHANGE_ME&#39;)</span>
</span><span id="__span-16-17"><a id="__codelineno-16-17" name="__codelineno-16-17" href="#__codelineno-16-17"></a>
</span><span id="__span-16-18"><a id="__codelineno-16-18" name="__codelineno-16-18" href="#__codelineno-16-18"></a><span class="s">logging.basicConfig(level=logging.INFO)</span>
</span><span id="__span-16-19"><a id="__codelineno-16-19" name="__codelineno-16-19" href="#__codelineno-16-19"></a><span class="s">logger = logging.getLogger(&#39;webhook&#39;)</span>
</span><span id="__span-16-20"><a id="__codelineno-16-20" name="__codelineno-16-20" href="#__codelineno-16-20"></a>
</span><span id="__span-16-21"><a id="__codelineno-16-21" name="__codelineno-16-21" href="#__codelineno-16-21"></a><span class="s">async def handle_calendar(request):</span>
</span><span id="__span-16-22"><a id="__codelineno-16-22" name="__codelineno-16-22" href="#__codelineno-16-22"></a><span class="s">    &quot;&quot;&quot;Handle Google Calendar push notifications&quot;&quot;&quot;</span>
</span><span id="__span-16-23"><a id="__codelineno-16-23" name="__codelineno-16-23" href="#__codelineno-16-23"></a><span class="s">    # Verify X-Goog-Resource-State header</span>
</span><span id="__span-16-24"><a id="__codelineno-16-24" name="__codelineno-16-24" href="#__codelineno-16-24"></a><span class="s">    resource_state = request.headers.get(&#39;X-Goog-Resource-State&#39;)</span>
</span><span id="__span-16-25"><a id="__codelineno-16-25" name="__codelineno-16-25" href="#__codelineno-16-25"></a>
</span><span id="__span-16-26"><a id="__codelineno-16-26" name="__codelineno-16-26" href="#__codelineno-16-26"></a><span class="s">    if resource_state == &#39;sync&#39;:</span>
</span><span id="__span-16-27"><a id="__codelineno-16-27" name="__codelineno-16-27" href="#__codelineno-16-27"></a><span class="s">        # Initial sync verification</span>
</span><span id="__span-16-28"><a id="__codelineno-16-28" name="__codelineno-16-28" href="#__codelineno-16-28"></a><span class="s">        return web.Response(text=&#39;OK&#39;)</span>
</span><span id="__span-16-29"><a id="__codelineno-16-29" name="__codelineno-16-29" href="#__codelineno-16-29"></a>
</span><span id="__span-16-30"><a id="__codelineno-16-30" name="__codelineno-16-30" href="#__codelineno-16-30"></a><span class="s">    logger.info(f&quot;Calendar notification: {resource_state}&quot;)</span>
</span><span id="__span-16-31"><a id="__codelineno-16-31" name="__codelineno-16-31" href="#__codelineno-16-31"></a>
</span><span id="__span-16-32"><a id="__codelineno-16-32" name="__codelineno-16-32" href="#__codelineno-16-32"></a><span class="s">    # TODO: Process calendar change</span>
</span><span id="__span-16-33"><a id="__codelineno-16-33" name="__codelineno-16-33" href="#__codelineno-16-33"></a><span class="s">    # - Fetch changed event from Google Calendar API</span>
</span><span id="__span-16-34"><a id="__codelineno-16-34" name="__codelineno-16-34" href="#__codelineno-16-34"></a><span class="s">    # - Send notification to OpenClaw via message queue</span>
</span><span id="__span-16-35"><a id="__codelineno-16-35" name="__codelineno-16-35" href="#__codelineno-16-35"></a><span class="s">    # - Update local cache</span>
</span><span id="__span-16-36"><a id="__codelineno-16-36" name="__codelineno-16-36" href="#__codelineno-16-36"></a>
</span><span id="__span-16-37"><a id="__codelineno-16-37" name="__codelineno-16-37" href="#__codelineno-16-37"></a><span class="s">    return web.Response(text=&#39;OK&#39;)</span>
</span><span id="__span-16-38"><a id="__codelineno-16-38" name="__codelineno-16-38" href="#__codelineno-16-38"></a>
</span><span id="__span-16-39"><a id="__codelineno-16-39" name="__codelineno-16-39" href="#__codelineno-16-39"></a><span class="s">async def handle_email(request):</span>
</span><span id="__span-16-40"><a id="__codelineno-16-40" name="__codelineno-16-40" href="#__codelineno-16-40"></a><span class="s">    &quot;&quot;&quot;Handle email webhook (e.g., from AgentMail)&quot;&quot;&quot;</span>
</span><span id="__span-16-41"><a id="__codelineno-16-41" name="__codelineno-16-41" href="#__codelineno-16-41"></a><span class="s">    try:</span>
</span><span id="__span-16-42"><a id="__codelineno-16-42" name="__codelineno-16-42" href="#__codelineno-16-42"></a><span class="s">        data = await request.json()</span>
</span><span id="__span-16-43"><a id="__codelineno-16-43" name="__codelineno-16-43" href="#__codelineno-16-43"></a><span class="s">        logger.info(f&quot;Email received: {data.get(&#39;subject&#39;, &#39;No subject&#39;)}&quot;)</span>
</span><span id="__span-16-44"><a id="__codelineno-16-44" name="__codelineno-16-44" href="#__codelineno-16-44"></a>
</span><span id="__span-16-45"><a id="__codelineno-16-45" name="__codelineno-16-45" href="#__codelineno-16-45"></a><span class="s">        # TODO: Process email</span>
</span><span id="__span-16-46"><a id="__codelineno-16-46" name="__codelineno-16-46" href="#__codelineno-16-46"></a><span class="s">        # - Parse sender, subject, body</span>
</span><span id="__span-16-47"><a id="__codelineno-16-47" name="__codelineno-16-47" href="#__codelineno-16-47"></a><span class="s">        # - Enqueue for OpenClaw processing</span>
</span><span id="__span-16-48"><a id="__codelineno-16-48" name="__codelineno-16-48" href="#__codelineno-16-48"></a><span class="s">        # - Store in event queue</span>
</span><span id="__span-16-49"><a id="__codelineno-16-49" name="__codelineno-16-49" href="#__codelineno-16-49"></a>
</span><span id="__span-16-50"><a id="__codelineno-16-50" name="__codelineno-16-50" href="#__codelineno-16-50"></a><span class="s">        return web.json_response({&#39;status&#39;: &#39;received&#39;})</span>
</span><span id="__span-16-51"><a id="__codelineno-16-51" name="__codelineno-16-51" href="#__codelineno-16-51"></a><span class="s">    except Exception as e:</span>
</span><span id="__span-16-52"><a id="__codelineno-16-52" name="__codelineno-16-52" href="#__codelineno-16-52"></a><span class="s">        logger.error(f&quot;Email webhook error: {e}&quot;)</span>
</span><span id="__span-16-53"><a id="__codelineno-16-53" name="__codelineno-16-53" href="#__codelineno-16-53"></a><span class="s">        return web.Response(status=400, text=str(e))</span>
</span><span id="__span-16-54"><a id="__codelineno-16-54" name="__codelineno-16-54" href="#__codelineno-16-54"></a>
</span><span id="__span-16-55"><a id="__codelineno-16-55" name="__codelineno-16-55" href="#__codelineno-16-55"></a><span class="s">async def handle_alert(request):</span>
</span><span id="__span-16-56"><a id="__codelineno-16-56" name="__codelineno-16-56" href="#__codelineno-16-56"></a><span class="s">    &quot;&quot;&quot;Handle generic alerts&quot;&quot;&quot;</span>
</span><span id="__span-16-57"><a id="__codelineno-16-57" name="__codelineno-16-57" href="#__codelineno-16-57"></a><span class="s">    try:</span>
</span><span id="__span-16-58"><a id="__codelineno-16-58" name="__codelineno-16-58" href="#__codelineno-16-58"></a><span class="s">        data = await request.json()</span>
</span><span id="__span-16-59"><a id="__codelineno-16-59" name="__codelineno-16-59" href="#__codelineno-16-59"></a><span class="s">        logger.info(f&quot;Alert received: {data.get(&#39;type&#39;, &#39;unknown&#39;)}&quot;)</span>
</span><span id="__span-16-60"><a id="__codelineno-16-60" name="__codelineno-16-60" href="#__codelineno-16-60"></a>
</span><span id="__span-16-61"><a id="__codelineno-16-61" name="__codelineno-16-61" href="#__codelineno-16-61"></a><span class="s">        # TODO: Process alert</span>
</span><span id="__span-16-62"><a id="__codelineno-16-62" name="__codelineno-16-62" href="#__codelineno-16-62"></a><span class="s">        # - Route based on alert type</span>
</span><span id="__span-16-63"><a id="__codelineno-16-63" name="__codelineno-16-63" href="#__codelineno-16-63"></a><span class="s">        # - Send to OpenClaw</span>
</span><span id="__span-16-64"><a id="__codelineno-16-64" name="__codelineno-16-64" href="#__codelineno-16-64"></a>
</span><span id="__span-16-65"><a id="__codelineno-16-65" name="__codelineno-16-65" href="#__codelineno-16-65"></a><span class="s">        return web.json_response({&#39;status&#39;: &#39;received&#39;})</span>
</span><span id="__span-16-66"><a id="__codelineno-16-66" name="__codelineno-16-66" href="#__codelineno-16-66"></a><span class="s">    except Exception as e:</span>
</span><span id="__span-16-67"><a id="__codelineno-16-67" name="__codelineno-16-67" href="#__codelineno-16-67"></a><span class="s">        logger.error(f&quot;Alert webhook error: {e}&quot;)</span>
</span><span id="__span-16-68"><a id="__codelineno-16-68" name="__codelineno-16-68" href="#__codelineno-16-68"></a><span class="s">        return web.Response(status=400, text=str(e))</span>
</span><span id="__span-16-69"><a id="__codelineno-16-69" name="__codelineno-16-69" href="#__codelineno-16-69"></a>
</span><span id="__span-16-70"><a id="__codelineno-16-70" name="__codelineno-16-70" href="#__codelineno-16-70"></a><span class="s">async def handle_health(request):</span>
</span><span id="__span-16-71"><a id="__codelineno-16-71" name="__codelineno-16-71" href="#__codelineno-16-71"></a><span class="s">    &quot;&quot;&quot;Health check endpoint&quot;&quot;&quot;</span>
</span><span id="__span-16-72"><a id="__codelineno-16-72" name="__codelineno-16-72" href="#__codelineno-16-72"></a><span class="s">    return web.json_response({</span>
</span><span id="__span-16-73"><a id="__codelineno-16-73" name="__codelineno-16-73" href="#__codelineno-16-73"></a><span class="s">        &#39;status&#39;: &#39;healthy&#39;,</span>
</span><span id="__span-16-74"><a id="__codelineno-16-74" name="__codelineno-16-74" href="#__codelineno-16-74"></a><span class="s">        &#39;timestamp&#39;: datetime.utcnow().isoformat()</span>
</span><span id="__span-16-75"><a id="__codelineno-16-75" name="__codelineno-16-75" href="#__codelineno-16-75"></a><span class="s">    })</span>
</span><span id="__span-16-76"><a id="__codelineno-16-76" name="__codelineno-16-76" href="#__codelineno-16-76"></a>
</span><span id="__span-16-77"><a id="__codelineno-16-77" name="__codelineno-16-77" href="#__codelineno-16-77"></a><span class="s">def main():</span>
</span><span id="__span-16-78"><a id="__codelineno-16-78" name="__codelineno-16-78" href="#__codelineno-16-78"></a><span class="s">    app = web.Application()</span>
</span><span id="__span-16-79"><a id="__codelineno-16-79" name="__codelineno-16-79" href="#__codelineno-16-79"></a>
</span><span id="__span-16-80"><a id="__codelineno-16-80" name="__codelineno-16-80" href="#__codelineno-16-80"></a><span class="s">    # Register endpoints with security tokens</span>
</span><span id="__span-16-81"><a id="__codelineno-16-81" name="__codelineno-16-81" href="#__codelineno-16-81"></a><span class="s">    app.router.add_post(f&#39;/{CALENDAR_SECRET}&#39;, handle_calendar)</span>
</span><span id="__span-16-82"><a id="__codelineno-16-82" name="__codelineno-16-82" href="#__codelineno-16-82"></a><span class="s">    app.router.add_post(f&#39;/email/{EMAIL_SECRET}&#39;, handle_email)</span>
</span><span id="__span-16-83"><a id="__codelineno-16-83" name="__codelineno-16-83" href="#__codelineno-16-83"></a><span class="s">    app.router.add_post(f&#39;/alerts/{ALERT_SECRET}&#39;, handle_alert)</span>
</span><span id="__span-16-84"><a id="__codelineno-16-84" name="__codelineno-16-84" href="#__codelineno-16-84"></a><span class="s">    app.router.add_get(&#39;/health&#39;, handle_health)</span>
</span><span id="__span-16-85"><a id="__codelineno-16-85" name="__codelineno-16-85" href="#__codelineno-16-85"></a>
</span><span id="__span-16-86"><a id="__codelineno-16-86" name="__codelineno-16-86" href="#__codelineno-16-86"></a><span class="s">    logger.info(&quot;Webhook server starting on port 8088&quot;)</span>
</span><span id="__span-16-87"><a id="__codelineno-16-87" name="__codelineno-16-87" href="#__codelineno-16-87"></a><span class="s">    web.run_app(app, host=&#39;127.0.0.1&#39;, port=8088)</span>
</span><span id="__span-16-88"><a id="__codelineno-16-88" name="__codelineno-16-88" href="#__codelineno-16-88"></a>
</span><span id="__span-16-89"><a id="__codelineno-16-89" name="__codelineno-16-89" href="#__codelineno-16-89"></a><span class="s">if __name__ == &#39;__main__&#39;:</span>
</span><span id="__span-16-90"><a id="__codelineno-16-90" name="__codelineno-16-90" href="#__codelineno-16-90"></a><span class="s">    main()</span>
</span><span id="__span-16-91"><a id="__codelineno-16-91" name="__codelineno-16-91" href="#__codelineno-16-91"></a><span class="s">EOF</span>
</span><span id="__span-16-92"><a id="__codelineno-16-92" name="__codelineno-16-92" href="#__codelineno-16-92"></a>
</span><span id="__span-16-93"><a id="__codelineno-16-93" name="__codelineno-16-93" href="#__codelineno-16-93"></a>chmod<span class="w"> </span>+x<span class="w"> </span>~/clawd/scripts/webhook-server.py
</span></code></pre></div>
<p><em>Why: Receives external webhooks on secure endpoints, processes events, forwards to OpenClaw</em></p>
<h3 id="32-generate-webhook-secrets">3.2 Generate Webhook Secrets<a class="headerlink" href="#32-generate-webhook-secrets" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>cat<span class="w"> </span>&gt;<span class="w"> </span>~/.clawdbot/webhook.env<span class="w"> </span><span class="s">&lt;&lt; EOF</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="s">WEBHOOK_CALENDAR_SECRET=$(openssl rand -base64 32 | tr -d &#39;/+=&#39; | cut -c1-22)</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="s">WEBHOOK_EMAIL_SECRET=$(openssl rand -base64 32 | tr -d &#39;/+=&#39; | cut -c1-22)</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="s">WEBHOOK_ALERT_SECRET=$(openssl rand -base64 32 | tr -d &#39;/+=&#39; | cut -c1-22)</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="s">EOF</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>chmod<span class="w"> </span><span class="m">600</span><span class="w"> </span>~/.clawdbot/webhook.env
</span></code></pre></div>
<p><em>Why: Random URL paths act as authentication tokens (security through obscurity for webhooks)</em></p>
<p>✅ <strong>Verify:</strong> <code>cat ~/.clawdbot/webhook.env</code> shows three random secrets</p>
<h3 id="33-install-python-dependencies">3.3 Install Python Dependencies<a class="headerlink" href="#33-install-python-dependencies" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>pip3<span class="w"> </span>install<span class="w"> </span>aiohttp
</span></code></pre></div>
<p><em>Why: aiohttp is an async HTTP server framework for Python</em></p>
<h3 id="34-test-webhook-server-manually">3.4 Test Webhook Server Manually<a class="headerlink" href="#34-test-webhook-server-manually" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="nb">source</span><span class="w"> </span>~/.clawdbot/webhook.env
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>python3<span class="w"> </span>~/clawd/scripts/webhook-server.py
</span></code></pre></div>
<p><em>Why: Run server in foreground to test configuration</em></p>
<p><strong>In a NEW terminal window:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="c1"># Load secrets</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="nb">source</span><span class="w"> </span>~/.clawdbot/webhook.env
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="c1"># Test health endpoint</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>curl<span class="w"> </span>http://localhost:8088/health
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="c1"># Test alert endpoint (with secret)</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>http://localhost:8088/alerts/<span class="nv">$WEBHOOK_ALERT_SECRET</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-20-10"><a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{&quot;type&quot;:&quot;test&quot;,&quot;message&quot;:&quot;Hello webhook&quot;}&#39;</span>
</span></code></pre></div>
<p><em>Expected: Both commands return JSON responses</em></p>
<p>Press <code>Ctrl+C</code> in the server terminal to stop.</p>
<p>✅ <strong>Verify:</strong> Curl commands succeed, server logs show requests</p>
<h3 id="35-create-systemd-service">3.5 Create Systemd Service<a class="headerlink" href="#35-create-systemd-service" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>cat<span class="w"> </span>&gt;<span class="w"> </span>/etc/systemd/system/webhook.service<span class="w"> </span><span class="s">&lt;&lt; &#39;EOF&#39;</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="s">[Unit]</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="s">Description=OpenClaw Webhook Server</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="s">After=network.target</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="s">[Service]</span>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="s">Type=simple</span>
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="s">User=root</span>
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a><span class="s">WorkingDirectory=/root/clawd</span>
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a><span class="s">EnvironmentFile=/root/.clawdbot/webhook.env</span>
</span><span id="__span-21-11"><a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a><span class="s">ExecStart=/usr/bin/python3 /root/clawd/scripts/webhook-server.py</span>
</span><span id="__span-21-12"><a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a><span class="s">Restart=on-failure</span>
</span><span id="__span-21-13"><a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a><span class="s">RestartSec=5s</span>
</span><span id="__span-21-14"><a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a><span class="s">StandardOutput=journal</span>
</span><span id="__span-21-15"><a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a><span class="s">StandardError=journal</span>
</span><span id="__span-21-16"><a id="__codelineno-21-16" name="__codelineno-21-16" href="#__codelineno-21-16"></a>
</span><span id="__span-21-17"><a id="__codelineno-21-17" name="__codelineno-21-17" href="#__codelineno-21-17"></a><span class="s">[Install]</span>
</span><span id="__span-21-18"><a id="__codelineno-21-18" name="__codelineno-21-18" href="#__codelineno-21-18"></a><span class="s">WantedBy=multi-user.target</span>
</span><span id="__span-21-19"><a id="__codelineno-21-19" name="__codelineno-21-19" href="#__codelineno-21-19"></a><span class="s">EOF</span>
</span></code></pre></div>
<p><em>Why: Runs webhook server as a system service with automatic restart</em></p>
<p>Enable and start:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>systemctl<span class="w"> </span>daemon-reload
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>webhook
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>systemctl<span class="w"> </span>start<span class="w"> </span>webhook
</span></code></pre></div>
<p><em>Why: Starts webhook server now and on every boot</em></p>
<p>✅ <strong>Verify:</strong> <code>systemctl status webhook</code> shows "active (running)"</p>
<h3 id="36-test-public-webhook-url">3.6 Test Public Webhook URL<a class="headerlink" href="#36-test-public-webhook-url" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="nb">source</span><span class="w"> </span>~/.clawdbot/webhook.env
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>curl<span class="w"> </span>https://webhook.YOUR_DOMAIN.com/health
</span></code></pre></div>
<p><em>Replace YOUR_DOMAIN.com with your actual domain</em></p>
<p><em>Expected: Returns JSON with <code>"status": "healthy"</code></em></p>
<p>✅ <strong>Verify:</strong> Public webhook URL is accessible via HTTPS through Cloudflare tunnel</p>
<hr />
<h2 id="4-backup-system">4. Backup System<a class="headerlink" href="#4-backup-system" title="Permanent link">&para;</a></h2>
<p>Automated backups prevent data loss. You'll set up hourly lightweight backups (git + databases) and nightly full backups (complete workspace + OpenClaw state) to Google Drive.</p>
<h3 id="41-install-rclone">4.1 Install Rclone<a class="headerlink" href="#41-install-rclone" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>curl<span class="w"> </span>https://rclone.org/install.sh<span class="w"> </span><span class="p">|</span><span class="w"> </span>bash
</span></code></pre></div>
<p><em>Why: Rclone syncs files to cloud storage (Google Drive, S3, etc.)</em></p>
<p>✅ <strong>Verify:</strong> <code>rclone version</code> shows version number</p>
<h3 id="42-configure-google-drive-remote">4.2 Configure Google Drive Remote<a class="headerlink" href="#42-configure-google-drive-remote" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>rclone<span class="w"> </span>config
</span></code></pre></div>
<p><em>Why: Interactive setup to connect rclone to Google Drive</em></p>
<p><strong>Follow the prompts:</strong></p>
<ol>
<li><code>n</code> (new remote)</li>
<li>Name: <code>gdrive</code></li>
<li>Storage: <code>drive</code> (type the number for Google Drive)</li>
<li>Client ID: (press Enter to skip — uses rclone's)</li>
<li>Client Secret: (press Enter to skip)</li>
<li>Scope: <code>1</code> (full access)</li>
<li>Root folder ID: (press Enter for root)</li>
<li>Service Account File: (press Enter to skip)</li>
<li>Edit advanced config? <code>n</code></li>
<li>Use auto config? <code>y</code></li>
<li>Browser opens → log in to Google → authorize rclone</li>
<li>Configure as team drive? <code>n</code></li>
<li>Confirm: <code>y</code></li>
<li>Quit: <code>q</code></li>
</ol>
<p>✅ <strong>Verify:</strong> <code>rclone lsd gdrive:</code> lists your Google Drive folders</p>
<h3 id="43-configure-encrypted-remote-optional-but-recommended">4.3 Configure Encrypted Remote (Optional but Recommended)<a class="headerlink" href="#43-configure-encrypted-remote-optional-but-recommended" title="Permanent link">&para;</a></h3>
<p>Encrypt backups before uploading to cloud:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>rclone<span class="w"> </span>config
</span></code></pre></div>
<p><strong>Follow the prompts:</strong></p>
<ol>
<li><code>n</code> (new remote)</li>
<li>Name: <code>gdrive-crypt</code></li>
<li>Storage: <code>crypt</code> (type the number)</li>
<li>Remote: <code>gdrive:openclaw-backups</code> (creates encrypted folder)</li>
<li>Filename encryption: <code>standard</code></li>
<li>Directory name encryption: <code>true</code></li>
<li>Password: (enter a strong password — <strong>SAVE THIS</strong>)</li>
<li>Salt password: (enter another password or press Enter to skip)</li>
<li>Confirm: <code>y</code></li>
<li>Quit: <code>q</code></li>
</ol>
<p><em>Why: Encrypts all backup files before upload. Even if Google Drive is compromised, backups are secure.</em></p>
<p>✅ <strong>Verify:</strong> <code>rclone lsd gdrive-crypt:</code> shows empty list (new remote)</p>
<p><strong>⚠️ SAVE YOUR ENCRYPTION PASSWORD</strong> — losing it means losing all backup access.</p>
<h3 id="44-create-hourly-backup-script">4.4 Create Hourly Backup Script<a class="headerlink" href="#44-create-hourly-backup-script" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>cat<span class="w"> </span>&gt;<span class="w"> </span>~/clawd/backup.sh<span class="w"> </span><span class="s">&lt;&lt; &#39;EOF&#39;</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="s">#!/bin/bash</span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="s"># Hourly backup: git push + rclone databases</span>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="s">set -e</span>
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a>
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="s">cd /root/clawd</span>
</span><span id="__span-27-7"><a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a>
</span><span id="__span-27-8"><a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a><span class="s"># Git backup</span>
</span><span id="__span-27-9"><a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a><span class="s">git add -A</span>
</span><span id="__span-27-10"><a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a><span class="s">git commit -m &quot;Hourly backup $(date -u +%Y-%m-%d_%H:%M:%S)&quot; || true</span>
</span><span id="__span-27-11"><a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a><span class="s">git push origin main || echo &quot;Git push failed (non-fatal)&quot;</span>
</span><span id="__span-27-12"><a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a>
</span><span id="__span-27-13"><a id="__codelineno-27-13" name="__codelineno-27-13" href="#__codelineno-27-13"></a><span class="s"># Backup SQLite databases to Google Drive</span>
</span><span id="__span-27-14"><a id="__codelineno-27-14" name="__codelineno-27-14" href="#__codelineno-27-14"></a><span class="s">rclone copy ~/.clawdbot/*.sqlite gdrive-crypt:openclaw-backups/databases/ \</span>
</span><span id="__span-27-15"><a id="__codelineno-27-15" name="__codelineno-27-15" href="#__codelineno-27-15"></a><span class="s">  --include &quot;*.sqlite&quot; \</span>
</span><span id="__span-27-16"><a id="__codelineno-27-16" name="__codelineno-27-16" href="#__codelineno-27-16"></a><span class="s">  --log-file=/var/log/backup-hourly.log</span>
</span><span id="__span-27-17"><a id="__codelineno-27-17" name="__codelineno-27-17" href="#__codelineno-27-17"></a>
</span><span id="__span-27-18"><a id="__codelineno-27-18" name="__codelineno-27-18" href="#__codelineno-27-18"></a><span class="s">echo &quot;✅ Hourly backup complete: $(date -u)&quot;</span>
</span><span id="__span-27-19"><a id="__codelineno-27-19" name="__codelineno-27-19" href="#__codelineno-27-19"></a><span class="s">EOF</span>
</span><span id="__span-27-20"><a id="__codelineno-27-20" name="__codelineno-27-20" href="#__codelineno-27-20"></a>
</span><span id="__span-27-21"><a id="__codelineno-27-21" name="__codelineno-27-21" href="#__codelineno-27-21"></a>chmod<span class="w"> </span>+x<span class="w"> </span>~/clawd/backup.sh
</span></code></pre></div>
<p><em>Why: Frequent lightweight backups capture work-in-progress (memory logs, databases)</em></p>
<h3 id="45-create-nightly-backup-script">4.5 Create Nightly Backup Script<a class="headerlink" href="#45-create-nightly-backup-script" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>cat<span class="w"> </span>&gt;<span class="w"> </span>~/clawd/scripts/nightly-backup.sh<span class="w"> </span><span class="s">&lt;&lt; &#39;EOF&#39;</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="s">#!/bin/bash</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="s"># Nightly backup: full workspace + OpenClaw state</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="s">set -e</span>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a>
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="s">BACKUP_DATE=$(date -u +%Y-%m-%d)</span>
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="s">BACKUP_DIR=&quot;/tmp/openclaw-backup-$BACKUP_DATE&quot;</span>
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a>
</span><span id="__span-28-9"><a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="s"># Create backup directory</span>
</span><span id="__span-28-10"><a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="s">mkdir -p &quot;$BACKUP_DIR&quot;</span>
</span><span id="__span-28-11"><a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a>
</span><span id="__span-28-12"><a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a><span class="s"># Backup workspace</span>
</span><span id="__span-28-13"><a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a><span class="s">cp -r /root/clawd &quot;$BACKUP_DIR/workspace&quot;</span>
</span><span id="__span-28-14"><a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a>
</span><span id="__span-28-15"><a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a><span class="s"># Backup OpenClaw config</span>
</span><span id="__span-28-16"><a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a><span class="s">cp ~/.config/openclaw/openclaw.json &quot;$BACKUP_DIR/openclaw-config.json&quot; || true</span>
</span><span id="__span-28-17"><a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a>
</span><span id="__span-28-18"><a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a><span class="s"># Backup credentials</span>
</span><span id="__span-28-19"><a id="__codelineno-28-19" name="__codelineno-28-19" href="#__codelineno-28-19"></a><span class="s">cp -r ~/.clawdbot &quot;$BACKUP_DIR/clawdbot&quot; || true</span>
</span><span id="__span-28-20"><a id="__codelineno-28-20" name="__codelineno-28-20" href="#__codelineno-28-20"></a>
</span><span id="__span-28-21"><a id="__codelineno-28-21" name="__codelineno-28-21" href="#__codelineno-28-21"></a><span class="s"># Backup Cloudflare tunnel config</span>
</span><span id="__span-28-22"><a id="__codelineno-28-22" name="__codelineno-28-22" href="#__codelineno-28-22"></a><span class="s">cp -r ~/.cloudflared &quot;$BACKUP_DIR/cloudflared&quot; || true</span>
</span><span id="__span-28-23"><a id="__codelineno-28-23" name="__codelineno-28-23" href="#__codelineno-28-23"></a>
</span><span id="__span-28-24"><a id="__codelineno-28-24" name="__codelineno-28-24" href="#__codelineno-28-24"></a><span class="s"># Create archive</span>
</span><span id="__span-28-25"><a id="__codelineno-28-25" name="__codelineno-28-25" href="#__codelineno-28-25"></a><span class="s">cd /tmp</span>
</span><span id="__span-28-26"><a id="__codelineno-28-26" name="__codelineno-28-26" href="#__codelineno-28-26"></a><span class="s">tar -czf &quot;openclaw-backup-$BACKUP_DATE.tar.gz&quot; &quot;openclaw-backup-$BACKUP_DATE&quot;</span>
</span><span id="__span-28-27"><a id="__codelineno-28-27" name="__codelineno-28-27" href="#__codelineno-28-27"></a>
</span><span id="__span-28-28"><a id="__codelineno-28-28" name="__codelineno-28-28" href="#__codelineno-28-28"></a><span class="s"># Upload to Google Drive with 7-day versioning</span>
</span><span id="__span-28-29"><a id="__codelineno-28-29" name="__codelineno-28-29" href="#__codelineno-28-29"></a><span class="s">rclone copy &quot;openclaw-backup-$BACKUP_DATE.tar.gz&quot; gdrive-crypt:openclaw-backups/full/ \</span>
</span><span id="__span-28-30"><a id="__codelineno-28-30" name="__codelineno-28-30" href="#__codelineno-28-30"></a><span class="s">  --backup-dir gdrive-crypt:openclaw-backups/versions/$BACKUP_DATE \</span>
</span><span id="__span-28-31"><a id="__codelineno-28-31" name="__codelineno-28-31" href="#__codelineno-28-31"></a><span class="s">  --log-file=/var/log/backup-nightly.log</span>
</span><span id="__span-28-32"><a id="__codelineno-28-32" name="__codelineno-28-32" href="#__codelineno-28-32"></a>
</span><span id="__span-28-33"><a id="__codelineno-28-33" name="__codelineno-28-33" href="#__codelineno-28-33"></a><span class="s"># Cleanup local backup</span>
</span><span id="__span-28-34"><a id="__codelineno-28-34" name="__codelineno-28-34" href="#__codelineno-28-34"></a><span class="s">rm -rf &quot;$BACKUP_DIR&quot; &quot;openclaw-backup-$BACKUP_DATE.tar.gz&quot;</span>
</span><span id="__span-28-35"><a id="__codelineno-28-35" name="__codelineno-28-35" href="#__codelineno-28-35"></a>
</span><span id="__span-28-36"><a id="__codelineno-28-36" name="__codelineno-28-36" href="#__codelineno-28-36"></a><span class="s"># Delete backups older than 30 days</span>
</span><span id="__span-28-37"><a id="__codelineno-28-37" name="__codelineno-28-37" href="#__codelineno-28-37"></a><span class="s">rclone delete gdrive-crypt:openclaw-backups/full/ --min-age 30d</span>
</span><span id="__span-28-38"><a id="__codelineno-28-38" name="__codelineno-28-38" href="#__codelineno-28-38"></a>
</span><span id="__span-28-39"><a id="__codelineno-28-39" name="__codelineno-28-39" href="#__codelineno-28-39"></a><span class="s">echo &quot;✅ Nightly backup complete: $BACKUP_DATE&quot;</span>
</span><span id="__span-28-40"><a id="__codelineno-28-40" name="__codelineno-28-40" href="#__codelineno-28-40"></a><span class="s">EOF</span>
</span><span id="__span-28-41"><a id="__codelineno-28-41" name="__codelineno-28-41" href="#__codelineno-28-41"></a>
</span><span id="__span-28-42"><a id="__codelineno-28-42" name="__codelineno-28-42" href="#__codelineno-28-42"></a>chmod<span class="w"> </span>+x<span class="w"> </span>~/clawd/scripts/nightly-backup.sh
</span></code></pre></div>
<p><em>Why: Complete system snapshot for disaster recovery. 7-day versioning allows rollback to any recent state.</em></p>
<h3 id="46-initialize-git-repository-if-not-already">4.6 Initialize Git Repository (If Not Already)<a class="headerlink" href="#46-initialize-git-repository-if-not-already" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="nb">cd</span><span class="w"> </span>~/clawd
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>git<span class="w"> </span>init
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>git<span class="w"> </span>config<span class="w"> </span>user.email<span class="w"> </span><span class="s2">&quot;bot@yourdomain.com&quot;</span>
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a>git<span class="w"> </span>config<span class="w"> </span>user.name<span class="w"> </span><span class="s2">&quot;OpenClaw Bot&quot;</span>
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a>git<span class="w"> </span>add<span class="w"> </span>-A
</span><span id="__span-29-6"><a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Initial commit&quot;</span>
</span></code></pre></div>
<p><em>Why: Git tracks all workspace changes, provides version history</em></p>
<p><strong>Optional:</strong> Push to GitHub for off-site redundancy:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="c1"># Create private repo on GitHub, then:</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>git<span class="w"> </span>remote<span class="w"> </span>add<span class="w"> </span>origin<span class="w"> </span>git@github.com:YOUR_USERNAME/clawd-backup.git
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a>git<span class="w"> </span>push<span class="w"> </span>-u<span class="w"> </span>origin<span class="w"> </span>main
</span></code></pre></div>
<p><em>Why: GitHub provides additional backup layer and remote access to workspace</em></p>
<h3 id="47-test-backups-manually">4.7 Test Backups Manually<a class="headerlink" href="#47-test-backups-manually" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="c1"># Test hourly backup</span>
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a>~/clawd/backup.sh
</span><span id="__span-31-3"><a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a>
</span><span id="__span-31-4"><a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="c1"># Test nightly backup</span>
</span><span id="__span-31-5"><a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a>~/clawd/scripts/nightly-backup.sh
</span></code></pre></div>
<p><em>Why: Verify both scripts work before scheduling</em></p>
<p>✅ <strong>Verify:</strong> Scripts complete without errors, check Google Drive for uploaded files:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>rclone<span class="w"> </span>ls<span class="w"> </span>gdrive-crypt:openclaw-backups/databases/
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>rclone<span class="w"> </span>ls<span class="w"> </span>gdrive-crypt:openclaw-backups/full/
</span></code></pre></div>
<h3 id="48-schedule-backups-in-crontab">4.8 Schedule Backups in Crontab<a class="headerlink" href="#48-schedule-backups-in-crontab" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a>crontab<span class="w"> </span>-e
</span></code></pre></div>
<p><em>Select your editor (nano recommended for beginners), then add these lines:</em></p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a># Hourly backup (git + databases)
</span><span id="__span-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a>0 * * * * /root/clawd/backup.sh &gt;&gt; /var/log/backup-hourly.log 2&gt;&amp;1
</span><span id="__span-34-3"><a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a>
</span><span id="__span-34-4"><a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a># Nightly backup (full system) at 4 AM UTC
</span><span id="__span-34-5"><a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a>0 4 * * * /root/clawd/scripts/nightly-backup.sh &gt;&gt; /var/log/backup-nightly.log 2&gt;&amp;1
</span></code></pre></div>
<p><em>Why: Hourly captures frequent changes, nightly creates restore points</em></p>
<p>Save and exit (Ctrl+X, Y, Enter in nano).</p>
<p>✅ <strong>Verify:</strong> <code>crontab -l</code> shows both backup jobs</p>
<h3 id="49-monitor-backup-logs">4.9 Monitor Backup Logs<a class="headerlink" href="#49-monitor-backup-logs" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="c1"># View hourly backup log</span>
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a>tail<span class="w"> </span>-f<span class="w"> </span>/var/log/backup-hourly.log
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a>
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="c1"># View nightly backup log</span>
</span><span id="__span-35-5"><a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a>tail<span class="w"> </span>-f<span class="w"> </span>/var/log/backup-nightly.log
</span></code></pre></div>
<p><em>Press Ctrl+C to exit tail</em></p>
<p>✅ <strong>Verify:</strong> Wait for next hour, check logs show successful run</p>
<hr />
<h2 id="part-3-complete">Part 3 Complete ✅<a class="headerlink" href="#part-3-complete" title="Permanent link">&para;</a></h2>
<p>You should now have:</p>
<p><strong>Google OAuth:</strong>
- [ ] Google Cloud project created
- [ ] Calendar, Gmail, Drive, Sheets APIs enabled
- [ ] OAuth consent screen configured (External, test users added)
- [ ] Desktop app credentials created and downloaded
- [ ] credentials.json installed at <code>~/.clawdbot/google/credentials.json</code>
- [ ] OAuth flow completed, token.json generated
- [ ] Test script confirms calendar access works
- [ ] (Optional) Multiple account tokens for different Google accounts</p>
<p><strong>Cloudflare Tunnel:</strong>
- [ ] cloudflared installed
- [ ] Authenticated with Cloudflare account
- [ ] Tunnel created (<code>cloudflared tunnel create openclaw</code>)
- [ ] DNS CNAME record added (webhook.yourdomain.com)
- [ ] Tunnel config routes domain to localhost:8088
- [ ] Systemd service running tunnel on boot
- [ ] Public webhook URL accessible via HTTPS</p>
<p><strong>Webhook Server:</strong>
- [ ] webhook-server.py created with endpoints for calendar/email/alerts
- [ ] Webhook secrets generated in ~/.clawdbot/webhook.env
- [ ] aiohttp Python library installed
- [ ] Manual test confirms server receives requests
- [ ] Systemd service runs webhook server on boot
- [ ] Public webhook URL returns health check response</p>
<p><strong>Backup System:</strong>
- [ ] rclone installed
- [ ] Google Drive remote configured (<code>gdrive</code>)
- [ ] (Optional) Encrypted remote configured (<code>gdrive-crypt</code>)
- [ ] Git repository initialized in ~/clawd
- [ ] backup.sh created (hourly: git + databases)
- [ ] nightly-backup.sh created (full system + 7-day versioning)
- [ ] Manual test backups succeeded
- [ ] Both backups uploaded to Google Drive
- [ ] Crontab scheduled: hourly at :00, nightly at 04:00 UTC
- [ ] Backup logs created and monitored</p>
<p><strong>Next:</strong> Part 4 — Automation (cron jobs, event queue, reminders, heartbeats)</p>
<hr />
<h2 id="quick-reference-commands">Quick Reference Commands<a class="headerlink" href="#quick-reference-commands" title="Permanent link">&para;</a></h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="c1"># Google OAuth</span>
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a>python3<span class="w"> </span>~/clawd/scripts/google-auth.py<span class="w">              </span><span class="c1"># Reauthorize</span>
</span><span id="__span-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a>python3<span class="w"> </span>~/clawd/scripts/test-calendar.py<span class="w">            </span><span class="c1"># Test API access</span>
</span><span id="__span-36-4"><a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a>
</span><span id="__span-36-5"><a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="c1"># Cloudflare Tunnel</span>
</span><span id="__span-36-6"><a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a>systemctl<span class="w"> </span>status<span class="w"> </span>cloudflared<span class="w">                        </span><span class="c1"># Check tunnel status</span>
</span><span id="__span-36-7"><a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a>systemctl<span class="w"> </span>restart<span class="w"> </span>cloudflared<span class="w">                       </span><span class="c1"># Restart tunnel</span>
</span><span id="__span-36-8"><a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a>cloudflared<span class="w"> </span>tunnel<span class="w"> </span>list<span class="w">                             </span><span class="c1"># List tunnels</span>
</span><span id="__span-36-9"><a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a>journalctl<span class="w"> </span>-u<span class="w"> </span>cloudflared<span class="w"> </span>-f<span class="w">                        </span><span class="c1"># View tunnel logs</span>
</span><span id="__span-36-10"><a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a>
</span><span id="__span-36-11"><a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a><span class="c1"># Webhook Server</span>
</span><span id="__span-36-12"><a id="__codelineno-36-12" name="__codelineno-36-12" href="#__codelineno-36-12"></a>systemctl<span class="w"> </span>status<span class="w"> </span>webhook<span class="w">                            </span><span class="c1"># Check webhook status</span>
</span><span id="__span-36-13"><a id="__codelineno-36-13" name="__codelineno-36-13" href="#__codelineno-36-13"></a>systemctl<span class="w"> </span>restart<span class="w"> </span>webhook<span class="w">                           </span><span class="c1"># Restart webhook</span>
</span><span id="__span-36-14"><a id="__codelineno-36-14" name="__codelineno-36-14" href="#__codelineno-36-14"></a>journalctl<span class="w"> </span>-u<span class="w"> </span>webhook<span class="w"> </span>-f<span class="w">                            </span><span class="c1"># View webhook logs</span>
</span><span id="__span-36-15"><a id="__codelineno-36-15" name="__codelineno-36-15" href="#__codelineno-36-15"></a>curl<span class="w"> </span>http://localhost:8088/health<span class="w">                   </span><span class="c1"># Test local endpoint</span>
</span><span id="__span-36-16"><a id="__codelineno-36-16" name="__codelineno-36-16" href="#__codelineno-36-16"></a>
</span><span id="__span-36-17"><a id="__codelineno-36-17" name="__codelineno-36-17" href="#__codelineno-36-17"></a><span class="c1"># Backups</span>
</span><span id="__span-36-18"><a id="__codelineno-36-18" name="__codelineno-36-18" href="#__codelineno-36-18"></a>~/clawd/backup.sh<span class="w">                                   </span><span class="c1"># Manual hourly backup</span>
</span><span id="__span-36-19"><a id="__codelineno-36-19" name="__codelineno-36-19" href="#__codelineno-36-19"></a>~/clawd/scripts/nightly-backup.sh<span class="w">                   </span><span class="c1"># Manual nightly backup</span>
</span><span id="__span-36-20"><a id="__codelineno-36-20" name="__codelineno-36-20" href="#__codelineno-36-20"></a>rclone<span class="w"> </span>ls<span class="w"> </span>gdrive-crypt:openclaw-backups/<span class="w">            </span><span class="c1"># List backups</span>
</span><span id="__span-36-21"><a id="__codelineno-36-21" name="__codelineno-36-21" href="#__codelineno-36-21"></a>tail<span class="w"> </span>-f<span class="w"> </span>/var/log/backup-hourly.log<span class="w">                  </span><span class="c1"># Monitor hourly backups</span>
</span><span id="__span-36-22"><a id="__codelineno-36-22" name="__codelineno-36-22" href="#__codelineno-36-22"></a>tail<span class="w"> </span>-f<span class="w"> </span>/var/log/backup-nightly.log<span class="w">                 </span><span class="c1"># Monitor nightly backups</span>
</span><span id="__span-36-23"><a id="__codelineno-36-23" name="__codelineno-36-23" href="#__codelineno-36-23"></a>crontab<span class="w"> </span>-l<span class="w">                                          </span><span class="c1"># View scheduled backups</span>
</span><span id="__span-36-24"><a id="__codelineno-36-24" name="__codelineno-36-24" href="#__codelineno-36-24"></a>
</span><span id="__span-36-25"><a id="__codelineno-36-25" name="__codelineno-36-25" href="#__codelineno-36-25"></a><span class="c1"># System Health</span>
</span><span id="__span-36-26"><a id="__codelineno-36-26" name="__codelineno-36-26" href="#__codelineno-36-26"></a>systemctl<span class="w"> </span>status<span class="w"> </span>cloudflared<span class="w"> </span>webhook<span class="w">                </span><span class="c1"># Check both services</span>
</span><span id="__span-36-27"><a id="__codelineno-36-27" name="__codelineno-36-27" href="#__codelineno-36-27"></a>journalctl<span class="w"> </span>--since<span class="w"> </span><span class="s2">&quot;1 hour ago&quot;</span><span class="w"> </span>-u<span class="w"> </span>webhook<span class="w">          </span><span class="c1"># Recent webhook logs</span>
</span><span id="__span-36-28"><a id="__codelineno-36-28" name="__codelineno-36-28" href="#__codelineno-36-28"></a>ls<span class="w"> </span>-lh<span class="w"> </span>~/.clawdbot/google/<span class="w">                          </span><span class="c1"># Check tokens exist</span>
</span></code></pre></div>
<hr />
<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h2>
<p><strong>Google OAuth "invalid_client" error:</strong>
- Verify credentials.json is correctly downloaded
- Check file path: <code>~/.clawdbot/google/credentials.json</code>
- Ensure OAuth consent screen is configured (test users added)
- Re-download credentials from Google Cloud Console</p>
<p><strong>Google OAuth "access_denied" error:</strong>
- Make sure your email is added as a test user
- Check that all required scopes are enabled
- Try using a different Google account</p>
<p><strong>Cloudflare tunnel connection refused:</strong>
- Check tunnel is running: <code>systemctl status cloudflared</code>
- Verify config.yml has correct tunnel UUID
- Ensure DNS CNAME record exists (check Cloudflare dashboard)
- Test local service first: <code>curl http://localhost:8088/health</code></p>
<p><strong>Webhook server not receiving requests:</strong>
- Check service is running: <code>systemctl status webhook</code>
- Verify tunnel routes to correct port (8088)
- Test locally before testing publicly
- Check logs: <code>journalctl -u webhook -f</code>
- Ensure webhook.env secrets are loaded</p>
<p><strong>Webhook "Connection refused" on public URL:</strong>
- Verify Cloudflare tunnel is running
- Check webhook server is listening on localhost:8088
- Test health endpoint: <code>curl https://webhook.yourdomain.com/health</code>
- Check both services: <code>systemctl status cloudflared webhook</code></p>
<p><strong>Rclone "Failed to create file system" error:</strong>
- Re-run <code>rclone config</code> to reconfigure remote
- Test authentication: <code>rclone lsd gdrive:</code>
- Check Google Drive permissions (authorize in browser)
- For crypt errors: verify encryption password is correct</p>
<p><strong>Backups not running from cron:</strong>
- Check crontab exists: <code>crontab -l</code>
- Verify script has execute permissions: <code>ls -l ~/clawd/backup.sh</code>
- Check cron logs: <code>grep CRON /var/log/syslog</code>
- Ensure absolute paths in cron jobs (not relative)
- Test scripts manually first</p>
<p><strong>Backup script errors "command not found":</strong>
- Cron has minimal PATH — use absolute paths (<code>/usr/bin/rclone</code>)
- Add <code>PATH=/usr/local/bin:/usr/bin:/bin</code> at top of script
- Or modify crontab: <code>PATH=/usr/local/bin:/usr/bin:/bin</code> before job</p>
<p><strong>Git push fails in backup:</strong>
- Check remote is configured: <code>git remote -v</code>
- Verify SSH keys or HTTPS credentials
- Backup script continues even if git fails (non-fatal)</p>
<hr />
<h2 id="security-notes">Security Notes<a class="headerlink" href="#security-notes" title="Permanent link">&para;</a></h2>
<p><strong>Webhook URL Secrets:</strong>
- Never commit webhook.env to git
- Rotate secrets periodically: regenerate in webhook.env, restart service
- Each endpoint has its own secret — limits blast radius if one leaks</p>
<p><strong>Google OAuth Tokens:</strong>
- token.json contains refresh token — treat as password
- Never share or commit to public repos
- Rotate if compromised: revoke in Google Cloud Console → reauthorize</p>
<p><strong>Cloudflare Tunnel:</strong>
- Tunnel authenticates via cert.pem — keep this file secure
- Only exposes localhost:8088 — no other ports accessible
- Uses HTTPS automatically — no certificate management needed</p>
<p><strong>Backup Encryption:</strong>
- SAVE YOUR RCLONE CRYPT PASSWORD — no recovery without it
- Consider using rclone obscure for password storage in scripts
- Test restore process regularly to verify encryption works</p>
<hr />
<h2 id="webhook-urls-reference">Webhook URLs Reference<a class="headerlink" href="#webhook-urls-reference" title="Permanent link">&para;</a></h2>
<p>After setup, you'll have these public endpoints (replace YOUR_DOMAIN and secrets):</p>
<table>
<thead>
<tr>
<th>Purpose</th>
<th>URL Format</th>
<th>HTTP Method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Health Check</td>
<td><code>https://webhook.YOUR_DOMAIN.com/health</code></td>
<td>GET</td>
</tr>
<tr>
<td>Google Calendar</td>
<td><code>https://webhook.YOUR_DOMAIN.com/CALENDAR_SECRET</code></td>
<td>POST</td>
</tr>
<tr>
<td>Email Notifications</td>
<td><code>https://webhook.YOUR_DOMAIN.com/email/EMAIL_SECRET</code></td>
<td>POST</td>
</tr>
<tr>
<td>Generic Alerts</td>
<td><code>https://webhook.YOUR_DOMAIN.com/alerts/ALERT_SECRET</code></td>
<td>POST</td>
</tr>
</tbody>
</table>
<p><strong>To get actual URLs:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="nb">source</span><span class="w"> </span>~/.clawdbot/webhook.env
</span><span id="__span-37-2"><a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Calendar: https://webhook.YOUR_DOMAIN.com/</span><span class="nv">$WEBHOOK_CALENDAR_SECRET</span><span class="s2">&quot;</span>
</span><span id="__span-37-3"><a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Email: https://webhook.YOUR_DOMAIN.com/email/</span><span class="nv">$WEBHOOK_EMAIL_SECRET</span><span class="s2">&quot;</span>
</span><span id="__span-37-4"><a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Alerts: https://webhook.YOUR_DOMAIN.com/alerts/</span><span class="nv">$WEBHOOK_ALERT_SECRET</span><span class="s2">&quot;</span>
</span></code></pre></div>
<p><em>Use these URLs when configuring external services (Google Calendar watch, AgentMail, monitoring alerts)</em></p>
<hr />
<p><strong>Estimated time:</strong> 50-70 minutes (excluding OAuth browser flows and initial backup uploads)</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/aliahmadaziz" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.tabs", "navigation.sections", "navigation.top", "navigation.tracking", "search.suggest", "search.highlight", "content.code.copy", "content.code.annotate"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>